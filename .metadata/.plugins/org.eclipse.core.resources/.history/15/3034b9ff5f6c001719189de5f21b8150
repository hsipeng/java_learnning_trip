package test;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.support.AnnotationConfigContextLoader;

import cn.aspect.PersonAspect;
import cn.config.PersonSpringConfig;
import cn.servlet.PersonServlet;


@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes=PersonSpringConfig.class)
public class testAOP {
/**
 * 
 * 1.寮傚父锛�
	浠ｇ爜缁撴瀯濡傚浘鎵�绀�
			PersonServlet
				PersonService
					PersonDao
	鐢ㄥ紓甯搁�氱煡鎹曡幏servlet鐨勬墍鏈夌殑鏂规硶鎶涘嚭鐨勫紓甯革細
	鐩爣瀵硅薄鎵�鍦ㄧ殑绫�			cn.servlet.PersonServlet
	鎶涘嚭寮傚父鎵�鍦ㄧ殑鏂规硶    		save()
	鎶涘嚭寮傚父鐨勫悕绉�       		XxxException
	寮傚父淇℃伅					message

	鎰忎箟锛�
	寮傚父澶勭悊绫诲拰涓氬姟閫昏緫绫诲畬鍏ㄦ澗鑰﹀悎銆�
	鏃跺埢鎹曡幏鐢熶骇鐢熶骇鐜涓墍鏈夌殑閿欒锛屽疄鏃剁洃鎺ц绯荤粺锛屽紓甯告敹闆嗐��

 */
	
	
	@Test
	public void test3(){
		/*AnnotationConfigApplicationContext ctx= new AnnotationConfigApplicationContext();
		ctx.register(PersonSpringConfig.class);
		ctx.register(PersonAspect.class);
		ctx.scan("cn");
		ctx.refresh();*/
		PersonServlet personServlet =ctx.getBean(PersonServlet.class);
		personServlet.save("liza");;
		
		
	}
}
